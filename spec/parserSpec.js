const parser = require('../app/parser')

describe('Parser', () => {
	
	describe('prepareSchedule', () => {

		let json = {"show":{"c1":[{"title":"John Wick 2","posterURL":"https://www.etyellowpages.com/images/cinema/johnwicknew.jpg","showtime":{"et":"8:15 ቀን","gc":"2:15 PM"},"detail":null},{"title":"John Wick 2","posterURL":"https://www.etyellowpages.com/images/cinema/johnwicknew.jpg","showtime":{"et":"3:15 ምሽት","gc":"9:15 PM"},"detail":null},{"title":"Fidelawit","posterURL":"https://www.etyellowpages.com/images/cinema/NoPoster.jpg","showtime":{"et":"10:30 ቀን","gc":"4:30 PM"},"detail":null},{"title":"Yet Nebersh","posterURL":"https://www.etyellowpages.com/images/cinema/NoPoster.jpg","showtime":{"et":"12:45 ቀን","gc":"6:45 PM"},"detail":null}],"c2":[{"title":"Just Sing","posterURL":"https://www.etyellowpages.com/images/cinema/SING.jpg","showtime":{"et":"6:15 ቀን","gc":"12:15 PM"},"detail":{"DVD":"N/A","Plot":"Arnold, an aging professional telegram singer with a passion for performance, has the worst day of his career and questions why he sings in the first place.","Type":"movie","Year":"2017","Genre":"Comedy","Rated":"N/A","Title":"Just Sing","Actors":"Timothy J. Cox, Olivia Blois Sharpe, Bryan A. Miranda, Rachel Lynn Jackson","Awards":"N/A","Poster":"N/A","Writer":"Penelope Lawson","imdbID":"tt6414112","Country":"USA","Runtime":"N/A","Website":"N/A","Director":"Penelope Lawson","Language":"English","Released":"N/A","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":null,"imdbVotes":"N/A","tomatoURL":"N/A","Production":"N/A","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"N/A"}},{"title":"Fist Fight","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","showtime":{"et":"8:15 ቀን","gc":"2:15 PM"},"detail":{"DVD":"N/A","Plot":"When one school teacher gets the other fired, he is challenged to an after-school fight.","Type":"movie","Year":"2017","Genre":"Comedy","Rated":"R","Title":"Fist Fight","Actors":"Christina Hendricks, JoAnna Garcia Swisher, Charlie Day, Ice Cube","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","Writer":"Van Robichaux (story), Evan Susser (story), Max Greenfield (story), Van Robichaux (screenplay), Evan Susser (screenplay)","imdbID":"tt3401882","Country":"USA","Runtime":"91 min","Website":"http://fistfightmovie.com/","Director":"Richie Keen","Language":"English","Released":"17 Feb 2017","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":{"url":"http://video-http.media-imdb.com/MV5BODk5Yzc1NDItMDhmZC00MmQ4LTg1NDAtYzAwOTgxMzc0NzQzXkExMV5BbXA0XkFpbWRiLWV0cy10cmFuc2NvZGU@.mp4?Expires=1488358812&Signature=Uf0durelm7cqcLAtV8DmYX~cd~dbF5j1RAZwHpmpNelQiWtARfQmkxGuAAgfAPnZXiew5d-Vx2jm00dDAKSivVcALx58AlF1x1OlBHAJEEHRnHWLkdF55bgKFqClEag6tSk~bnVwnMIbnYyQvYpfc26EPvKL47XNmDwdOPx2G~s_&Key-Pair-Id=APKAILW5I44IHKUN2DYA","poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNzM5MTc5NDUyNV5BMl5BanBnXkFtZTgwNDk5ODAxMDI@._V1_.jpg"},"imdbVotes":"N/A","tomatoURL":"http://www.rottentomatoes.com/m/fist_fight_2016/","Production":"Warner Bros. Pictures","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"5166"}},{"title":"Fist Fight","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","showtime":{"et":"10:30 ቀን","gc":"4:30 PM"},"detail":{"DVD":"N/A","Plot":"When one school teacher gets the other fired, he is challenged to an after-school fight.","Type":"movie","Year":"2017","Genre":"Comedy","Rated":"R","Title":"Fist Fight","Actors":"Christina Hendricks, JoAnna Garcia Swisher, Charlie Day, Ice Cube","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","Writer":"Van Robichaux (story), Evan Susser (story), Max Greenfield (story), Van Robichaux (screenplay), Evan Susser (screenplay)","imdbID":"tt3401882","Country":"USA","Runtime":"91 min","Website":"http://fistfightmovie.com/","Director":"Richie Keen","Language":"English","Released":"17 Feb 2017","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":{"url":"http://video-http.media-imdb.com/MV5BODk5Yzc1NDItMDhmZC00MmQ4LTg1NDAtYzAwOTgxMzc0NzQzXkExMV5BbXA0XkFpbWRiLWV0cy10cmFuc2NvZGU@.mp4?Expires=1488358812&Signature=Uf0durelm7cqcLAtV8DmYX~cd~dbF5j1RAZwHpmpNelQiWtARfQmkxGuAAgfAPnZXiew5d-Vx2jm00dDAKSivVcALx58AlF1x1OlBHAJEEHRnHWLkdF55bgKFqClEag6tSk~bnVwnMIbnYyQvYpfc26EPvKL47XNmDwdOPx2G~s_&Key-Pair-Id=APKAILW5I44IHKUN2DYA","poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNzM5MTc5NDUyNV5BMl5BanBnXkFtZTgwNDk5ODAxMDI@._V1_.jpg"},"imdbVotes":"N/A","tomatoURL":"http://www.rottentomatoes.com/m/fist_fight_2016/","Production":"Warner Bros. Pictures","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"5166"}},{"title":"Fist Fight","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","showtime":{"et":"12:45 ቀን","gc":"6:45 PM"},"detail":{"DVD":"N/A","Plot":"When one school teacher gets the other fired, he is challenged to an after-school fight.","Type":"movie","Year":"2017","Genre":"Comedy","Rated":"R","Title":"Fist Fight","Actors":"Christina Hendricks, JoAnna Garcia Swisher, Charlie Day, Ice Cube","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","Writer":"Van Robichaux (story), Evan Susser (story), Max Greenfield (story), Van Robichaux (screenplay), Evan Susser (screenplay)","imdbID":"tt3401882","Country":"USA","Runtime":"91 min","Website":"http://fistfightmovie.com/","Director":"Richie Keen","Language":"English","Released":"17 Feb 2017","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":{"url":"http://video-http.media-imdb.com/MV5BODk5Yzc1NDItMDhmZC00MmQ4LTg1NDAtYzAwOTgxMzc0NzQzXkExMV5BbXA0XkFpbWRiLWV0cy10cmFuc2NvZGU@.mp4?Expires=1488358812&Signature=Uf0durelm7cqcLAtV8DmYX~cd~dbF5j1RAZwHpmpNelQiWtARfQmkxGuAAgfAPnZXiew5d-Vx2jm00dDAKSivVcALx58AlF1x1OlBHAJEEHRnHWLkdF55bgKFqClEag6tSk~bnVwnMIbnYyQvYpfc26EPvKL47XNmDwdOPx2G~s_&Key-Pair-Id=APKAILW5I44IHKUN2DYA","poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNzM5MTc5NDUyNV5BMl5BanBnXkFtZTgwNDk5ODAxMDI@._V1_.jpg"},"imdbVotes":"N/A","tomatoURL":"http://www.rottentomatoes.com/m/fist_fight_2016/","Production":"Warner Bros. Pictures","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"5166"}},{"title":"Fist Fight","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","showtime":{"et":"3:15 ምሽት","gc":"9:15 PM"},"detail":{"DVD":"N/A","Plot":"When one school teacher gets the other fired, he is challenged to an after-school fight.","Type":"movie","Year":"2017","Genre":"Comedy","Rated":"R","Title":"Fist Fight","Actors":"Christina Hendricks, JoAnna Garcia Swisher, Charlie Day, Ice Cube","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BMTg0NzkyMjE5NF5BMl5BanBnXkFtZTgwMDE5NTg3MDI@._V1_SX300.jpg","Writer":"Van Robichaux (story), Evan Susser (story), Max Greenfield (story), Van Robichaux (screenplay), Evan Susser (screenplay)","imdbID":"tt3401882","Country":"USA","Runtime":"91 min","Website":"http://fistfightmovie.com/","Director":"Richie Keen","Language":"English","Released":"17 Feb 2017","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":{"url":"http://video-http.media-imdb.com/MV5BODk5Yzc1NDItMDhmZC00MmQ4LTg1NDAtYzAwOTgxMzc0NzQzXkExMV5BbXA0XkFpbWRiLWV0cy10cmFuc2NvZGU@.mp4?Expires=1488358812&Signature=Uf0durelm7cqcLAtV8DmYX~cd~dbF5j1RAZwHpmpNelQiWtARfQmkxGuAAgfAPnZXiew5d-Vx2jm00dDAKSivVcALx58AlF1x1OlBHAJEEHRnHWLkdF55bgKFqClEag6tSk~bnVwnMIbnYyQvYpfc26EPvKL47XNmDwdOPx2G~s_&Key-Pair-Id=APKAILW5I44IHKUN2DYA","poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNzM5MTc5NDUyNV5BMl5BanBnXkFtZTgwNDk5ODAxMDI@._V1_.jpg"},"imdbVotes":"N/A","tomatoURL":"http://www.rottentomatoes.com/m/fist_fight_2016/","Production":"Warner Bros. Pictures","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"5166"}}],"c3":[{"title":"Split Decision","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","showtime":{"et":"6:00 ቀን","gc":"12:00 PM"},"detail":{"DVD":"N/A","Plot":"Unicorn pizza has left much to be deserved for Garrett's ambitions in life. On one fateful evening he makes a decision that splits him off into two fateful versions of himself to see which decision plays out to his eventual present.","Type":"movie","Year":"2017","Genre":"Short, Comedy","Rated":"N/A","Title":"Split Decision","Actors":"Jonathan Biver, Bret Porter, Simone Carter, Hunter Davis","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","Writer":"Michele Durrett, Bret Porter","imdbID":"tt6117200","Country":"USA","Runtime":"10 min","Website":"N/A","Director":"Bret Porter","Language":"English","Released":"N/A","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":null,"imdbVotes":"N/A","tomatoURL":"N/A","Production":"N/A","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"N/A"}},{"title":"Split Decision","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","showtime":{"et":"8:15 ቀን","gc":"2:15 PM"},"detail":{"DVD":"N/A","Plot":"Unicorn pizza has left much to be deserved for Garrett's ambitions in life. On one fateful evening he makes a decision that splits him off into two fateful versions of himself to see which decision plays out to his eventual present.","Type":"movie","Year":"2017","Genre":"Short, Comedy","Rated":"N/A","Title":"Split Decision","Actors":"Jonathan Biver, Bret Porter, Simone Carter, Hunter Davis","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","Writer":"Michele Durrett, Bret Porter","imdbID":"tt6117200","Country":"USA","Runtime":"10 min","Website":"N/A","Director":"Bret Porter","Language":"English","Released":"N/A","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":null,"imdbVotes":"N/A","tomatoURL":"N/A","Production":"N/A","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"N/A"}},{"title":"Split Decision","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","showtime":{"et":"10:30 ቀን","gc":"4:30 PM"},"detail":{"DVD":"N/A","Plot":"Unicorn pizza has left much to be deserved for Garrett's ambitions in life. On one fateful evening he makes a decision that splits him off into two fateful versions of himself to see which decision plays out to his eventual present.","Type":"movie","Year":"2017","Genre":"Short, Comedy","Rated":"N/A","Title":"Split Decision","Actors":"Jonathan Biver, Bret Porter, Simone Carter, Hunter Davis","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","Writer":"Michele Durrett, Bret Porter","imdbID":"tt6117200","Country":"USA","Runtime":"10 min","Website":"N/A","Director":"Bret Porter","Language":"English","Released":"N/A","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":null,"imdbVotes":"N/A","tomatoURL":"N/A","Production":"N/A","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"N/A"}},{"title":"Split Decision","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","showtime":{"et":"12:45 ቀን","gc":"6:45 PM"},"detail":{"DVD":"N/A","Plot":"Unicorn pizza has left much to be deserved for Garrett's ambitions in life. On one fateful evening he makes a decision that splits him off into two fateful versions of himself to see which decision plays out to his eventual present.","Type":"movie","Year":"2017","Genre":"Short, Comedy","Rated":"N/A","Title":"Split Decision","Actors":"Jonathan Biver, Bret Porter, Simone Carter, Hunter Davis","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","Writer":"Michele Durrett, Bret Porter","imdbID":"tt6117200","Country":"USA","Runtime":"10 min","Website":"N/A","Director":"Bret Porter","Language":"English","Released":"N/A","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":null,"imdbVotes":"N/A","tomatoURL":"N/A","Production":"N/A","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"N/A"}},{"title":"Split Decision","posterURL":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","showtime":{"et":"3:15 ምሽት","gc":"9:15 PM"},"detail":{"DVD":"N/A","Plot":"Unicorn pizza has left much to be deserved for Garrett's ambitions in life. On one fateful evening he makes a decision that splits him off into two fateful versions of himself to see which decision plays out to his eventual present.","Type":"movie","Year":"2017","Genre":"Short, Comedy","Rated":"N/A","Title":"Split Decision","Actors":"Jonathan Biver, Bret Porter, Simone Carter, Hunter Davis","Awards":"N/A","Poster":"https://images-na.ssl-images-amazon.com/images/M/MV5BNmU5Mjc4Y2YtZTkyNC00ZjhmLWI1YzQtOGE3NzQyNjE0ZTAwL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTA5MzM4NDI@._V1_SX300.jpg","Writer":"Michele Durrett, Bret Porter","imdbID":"tt6117200","Country":"USA","Runtime":"10 min","Website":"N/A","Director":"Bret Porter","Language":"English","Released":"N/A","Response":"True","BoxOffice":"N/A","Metascore":"N/A","imdbVideo":null,"imdbVotes":"N/A","tomatoURL":"N/A","Production":"N/A","imdbRating":"N/A","tomatoFresh":"N/A","tomatoImage":"N/A","tomatoMeter":"N/A","tomatoRating":"N/A","tomatoRotten":"N/A","tomatoReviews":"N/A","tomatoConsensus":"N/A","tomatoUserMeter":"N/A","tomatoUserRating":"N/A","tomatoUserReviews":"N/A"}}]},"meta":{"gc":"Wednesday, March 1","ec":"ረቡዕ, የካቲት ፳፪"}}
		it('has to return the properly formatted message', () => {
			expect(parser.prepareSchedule(json)).toEqual('🗓Wednesday, March 1🗓\n\nCinema 1⃣\nJohn Wick 2 @ 2:15 PM\nJohn Wick 2 @ 9:15 PM\nFidelawit @ 4:30 PM\nYet Nebersh @ 6:45 PM\n\nCinema 2⃣\nJust Sing @ 12:15 PM\nFist Fight @ 2:15 PM\nFist Fight @ 4:30 PM\nFist Fight @ 6:45 PM\nFist Fight @ 9:15 PM\n\nCinema 3⃣\nSplit Decision @ 12:00 PM\nSplit Decision @ 2:15 PM\nSplit Decision @ 4:30 PM\nSplit Decision @ 6:45 PM\nSplit Decision @ 9:15 PM\n')
		})
	})

})